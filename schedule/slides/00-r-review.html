<!DOCTYPE html>
<html lang="en-CA"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Daniel J. McDonald">
  <title>UBC Stat406 2023W – r-review</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="meta-lecture" class="slide level2 large" data-background-image="gfx/smooths.svg" data-background-opacity="0.3">
<h2>00 R, Rmarkdown, code, and {tidyverse}: <br> A whirlwind tour</h2>
<p><span class="secondary">Stat 406</span></p>
<p><span class="secondary">Daniel J. McDonald</span></p>
<p>Last modified – 17 August 2023</p>
<p><span class="math display">\[
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\minimize}{minimize}
\DeclareMathOperator*{\maximize}{maximize}
\DeclareMathOperator*{\find}{find}
\DeclareMathOperator{\st}{subject\,\,to}
\]</span></p>
</section>
<section>
<section id="the-basics" class="title-slide slide level1 center">
<h1>The basics</h1>

</section>
<section id="tour-of-rstudio" class="slide level2">
<h2>Tour of Rstudio</h2>
<p>Things to note</p>
<ol type="1">
<li>Console</li>
<li>Terminal</li>
<li>Scripts, .Rmd, Knit</li>
<li>Files, Projects</li>
<li>Getting help</li>
<li>Environment, Git</li>
</ol>
</section>
<section id="simple-stuff" class="slide level2">
<h2>Simple stuff</h2>
<div class="columns">
<div class="column" style="width:45%;">
<h3 id="vectors">Vectors:</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a>x[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>x[<span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">rev</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 3 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">c</span>(x, x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 3 4 1 3 4</code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<h3 id="matrices">Matrices:</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>x <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="at">nrow =</span> <span class="dv">5</span>, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a>x[<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  1  6 11 16 21</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>x[,<span class="sc">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    6   11   16   21
[2,]    7   12   17   22
[3,]    8   13   18   23
[4,]    9   14   19   24
[5,]   10   15   20   25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),  <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    6   11
[2,]    8   13</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="simple-stuff-1" class="slide level2">
<h2>Simple stuff</h2>
<div class="columns">
<div class="column" style="width:45%;">
<h3 id="lists">Lists</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>(l <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="at">a =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], </span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="at">b =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, </span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="at">c =</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$a
[1] "a" "b"

$b
[1] 1 2 3 4

$c
$c$a
[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>l<span class="sc">$</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>l<span class="sc">$</span>c<span class="sc">$</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>l[<span class="st">"b"</span>] <span class="co"># compare to l[["b"]] == l$b</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$b
[1] 1 2 3 4</code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<h3 id="data-frames">Data frames</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>(dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="at">z =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, </span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="at">b =</span> <span class="dv">6</span><span class="sc">:</span><span class="dv">10</span>, </span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="at">c =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  z  b c
1 1  6 a
2 2  7 b
3 3  8 c
4 4  9 d
5 5 10 e</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">class</span>(dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>dat<span class="sc">$</span>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>dat[<span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  z b c
1 1 6 a</code></pre>
</div>
</div>
</div>
</div>
<p><span class="secondary">Data frames are sort-of lists and sort-of matrices</span></p>
</section>
<section id="tibbles" class="slide level2">
<h2>Tibbles</h2>
<p><span class="secondary">These are <code>{tidyverse}</code> data frames</span></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>(dat2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">z =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">b =</span> z <span class="sc">+</span> <span class="dv">5</span>, <span class="at">c =</span> letters[z]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
      z     b c    
  &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;
1     1     6 a    
2     2     7 b    
3     3     8 c    
4     4     9 d    
5     5    10 e    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">class</span>(dat2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
</div>
<p>We’ll return to classes in a moment. A <code>tbl_df</code> is a “subclass” of <code>data.frame</code>.</p>
<p>Anything that <code>data.frame</code> can do, <code>tbl_df</code> can do (better).</p>
<p>For instance, the printing is more informative.</p>
<p>Also, you can construct one by referencing previously constructed columns.</p>
</section></section>
<section>
<section id="functions" class="title-slide slide level1 center">
<h1>Functions</h1>

</section>
<section id="understanding-signatures" class="slide level2">
<h2>Understanding signatures</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">sig</span>(lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>fn &lt;- function(formula, data, subset, weights, na.action, method = "qr", model
  = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, contrasts =
  NULL, offset, ...)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">sig</span>(<span class="st">`</span><span class="at">+</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>fn &lt;- function(e1, e2)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">sig</span>(dplyr<span class="sc">::</span>filter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>fn &lt;- function(.data, ..., .by = NULL, .preserve = FALSE)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">sig</span>(stats<span class="sc">::</span>filter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>fn &lt;- function(x, filter, method = c("convolution", "recursive"), sides = 2,
  circular = FALSE, init = NULL)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">sig</span>(rnorm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>fn &lt;- function(n, mean = 0, sd = 1)</code></pre>
</div>
</div>
</section>
<section id="these-are-all-the-same" class="slide level2">
<h2>These are all the same</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="fu">rnorm</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0.5855288  0.7094660 -0.1093033</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">3</span>, <span class="at">mean =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0.5855288  0.7094660 -0.1093033</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb49-2"><a href="#cb49-2"></a><span class="fu">rnorm</span>(<span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0.5855288  0.7094660 -0.1093033</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb51-2"><a href="#cb51-2"></a><span class="fu">rnorm</span>(<span class="at">sd =</span> <span class="dv">1</span>, <span class="at">n =</span> <span class="dv">3</span>, <span class="at">mean =</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  0.5855288  0.7094660 -0.1093033</code></pre>
</div>
</div>
<ul>
<li>Functions can have default values.</li>
<li>You may, but don’t have to, name the arguments</li>
<li>If you name them, you can pass them out of order (but you shouldn’t).</li>
</ul>
</section>
<section id="write-lots-of-functions.-i-cant-emphasize-this-enough." class="slide level2">
<h2>Write lots of functions. I can’t emphasize this enough.</h2>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(arg1, arg2, <span class="at">arg3 =</span> <span class="dv">12</span>, ...) {</span>
<span id="cb53-2"><a href="#cb53-2"></a>  stuff <span class="ot">&lt;-</span> arg1 <span class="sc">*</span> arg3</span>
<span id="cb53-3"><a href="#cb53-3"></a>  stuff2 <span class="ot">&lt;-</span> stuff <span class="sc">+</span> arg2</span>
<span id="cb53-4"><a href="#cb53-4"></a>  <span class="fu">plot</span>(arg1, stuff2, ...)</span>
<span id="cb53-5"><a href="#cb53-5"></a>  <span class="fu">return</span>(stuff2)</span>
<span id="cb53-6"><a href="#cb53-6"></a>}</span>
<span id="cb53-7"><a href="#cb53-7"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>y1 <span class="ot">&lt;-</span> <span class="fu">f</span>(x, <span class="dv">3</span>, <span class="dv">15</span>, <span class="at">col =</span> <span class="dv">4</span>, <span class="at">pch =</span> <span class="dv">19</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/plot-it-1.svg"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">str</span>(y1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:100] -3.8 12.09 -24.27 12.45 -1.14 ...</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="outputs-vs.-side-effects" class="slide level2">
<h2>Outputs vs.&nbsp;Side effects</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Side effects are things a function does, outputs can be assigned to variables</li>
<li>A good example is the <code>hist</code> function</li>
<li>You have probably only seen the side effect which is to plot the histogram</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>my_histogram <span class="ot">&lt;-</span> <span class="fu">hist</span>(<span class="fu">rnorm</span>(<span class="dv">1000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/unnamed-chunk-9-1.svg"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">str</span>(my_histogram)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 6
 $ breaks  : num [1:14] -3 -2.5 -2 -1.5 -1 -0.5 0 0.5 1 1.5 ...
 $ counts  : int [1:13] 4 21 41 89 142 200 193 170 74 38 ...
 $ density : num [1:13] 0.008 0.042 0.082 0.178 0.284 0.4 0.386 0.34 0.148 0.076 ...
 $ mids    : num [1:13] -2.75 -2.25 -1.75 -1.25 -0.75 -0.25 0.25 0.75 1.25 1.75 ...
 $ xname   : chr "rnorm(1000)"
 $ equidist: logi TRUE
 - attr(*, "class")= chr "histogram"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a><span class="fu">class</span>(my_histogram)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "histogram"</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="when-writing-functions-program-defensively-ensure-behaviour" class="slide level2">
<h2>When writing functions, program defensively, ensure behaviour</h2>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>incrementer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc_by =</span> <span class="dv">1</span>) {</span>
<span id="cb62-2"><a href="#cb62-2"></a>  x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb62-3"><a href="#cb62-3"></a>}</span>
<span id="cb62-4"><a href="#cb62-4"></a>  </span>
<span id="cb62-5"><a href="#cb62-5"></a><span class="fu">incrementer</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a><span class="fu">incrementer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a><span class="fu">incrementer</span>(<span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in x + 1: non-numeric argument to binary operator</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>incrementer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc_by =</span> <span class="dv">1</span>) {</span>
<span id="cb68-2"><a href="#cb68-2"></a>  <span class="fu">stopifnot</span>(<span class="fu">is.numeric</span>(x))</span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="fu">return</span>(x <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb68-4"><a href="#cb68-4"></a>}</span>
<span id="cb68-5"><a href="#cb68-5"></a><span class="fu">incrementer</span>(<span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in incrementer("a"): is.numeric(x) is not TRUE</code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>incrementer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc_by =</span> <span class="dv">1</span>) {</span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(x)) {</span>
<span id="cb70-3"><a href="#cb70-3"></a>    <span class="fu">stop</span>(<span class="st">"`x` must be numeric"</span>)</span>
<span id="cb70-4"><a href="#cb70-4"></a>  }</span>
<span id="cb70-5"><a href="#cb70-5"></a>  x <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb70-6"><a href="#cb70-6"></a>}</span>
<span id="cb70-7"><a href="#cb70-7"></a><span class="fu">incrementer</span>(<span class="st">"a"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in incrementer("a"): `x` must be numeric</code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a><span class="fu">incrementer</span>(<span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>) <span class="do">## oops!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>incrementer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc_by =</span> <span class="dv">1</span>) {</span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(x)) {</span>
<span id="cb74-3"><a href="#cb74-3"></a>    <span class="fu">stop</span>(<span class="st">"`x` must be numeric"</span>)</span>
<span id="cb74-4"><a href="#cb74-4"></a>  }</span>
<span id="cb74-5"><a href="#cb74-5"></a>  x <span class="sc">+</span> inc_by</span>
<span id="cb74-6"><a href="#cb74-6"></a>}</span>
<span id="cb74-7"><a href="#cb74-7"></a><span class="fu">incrementer</span>(<span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -1</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="how-to-keep-track" class="slide level2">
<h2>How to keep track</h2>
<div class="columns">
<div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">library</span>(testthat)</span>
<span id="cb76-2"><a href="#cb76-2"></a>incrementer <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">inc_by =</span> <span class="dv">1</span>) {</span>
<span id="cb76-3"><a href="#cb76-3"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(x)) {</span>
<span id="cb76-4"><a href="#cb76-4"></a>    <span class="fu">stop</span>(<span class="st">"`x` must be numeric"</span>)</span>
<span id="cb76-5"><a href="#cb76-5"></a>  }</span>
<span id="cb76-6"><a href="#cb76-6"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.numeric</span>(inc_by)) {</span>
<span id="cb76-7"><a href="#cb76-7"></a>    <span class="fu">stop</span>(<span class="st">"`inc_by` must be numeric"</span>)</span>
<span id="cb76-8"><a href="#cb76-8"></a>  }</span>
<span id="cb76-9"><a href="#cb76-9"></a>  x <span class="sc">+</span> inc_by</span>
<span id="cb76-10"><a href="#cb76-10"></a>}</span>
<span id="cb76-11"><a href="#cb76-11"></a><span class="fu">expect_error</span>(<span class="fu">incrementer</span>(<span class="st">"a"</span>))</span>
<span id="cb76-12"><a href="#cb76-12"></a><span class="fu">expect_equal</span>(<span class="fu">incrementer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb76-13"><a href="#cb76-13"></a><span class="fu">expect_equal</span>(<span class="fu">incrementer</span>(<span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>), <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb76-14"><a href="#cb76-14"></a><span class="fu">expect_error</span>(<span class="fu">incrementer</span>(<span class="dv">1</span>, <span class="st">"b"</span>))</span>
<span id="cb76-15"><a href="#cb76-15"></a><span class="fu">expect_identical</span>(<span class="fu">incrementer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>), <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: incrementer(1:3) not identical to 2:4.
Objects equal but not identical</code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="fu">is.integer</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="fu">is.integer</span>(<span class="fu">incrementer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a><span class="fu">expect_identical</span>(<span class="fu">incrementer</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, 1L), <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>If you copy something, write a function.</p>
<p>Validate your arguments.</p>
<p>To ensure proper functionality, write tests to check if inputs result in predicted outputs.</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="classes-and-methods" class="title-slide slide level1 center">
<h1>Classes and methods</h1>

</section>
<section id="classes" class="slide level2">
<h2>Classes</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>We saw some of these earlier:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>tib <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb83-2"><a href="#cb83-2"></a>  <span class="at">x1 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>), </span>
<span id="cb83-3"><a href="#cb83-3"></a>  <span class="at">x2 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>), </span>
<span id="cb83-4"><a href="#cb83-4"></a>  <span class="at">y =</span> x1 <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> x2 <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb83-5"><a href="#cb83-5"></a>)</span>
<span id="cb83-6"><a href="#cb83-6"></a>mdl <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> ., <span class="at">data =</span> tib )</span>
<span id="cb83-7"><a href="#cb83-7"></a><span class="fu">class</span>(tib)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "tbl_df"     "tbl"        "data.frame"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="fu">class</span>(mdl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lm"</code></pre>
</div>
</div>
<p>The class allows for the use of “methods”</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">print</span>(mdl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ ., data = tib)

Coefficients:
(Intercept)           x1           x2  
    -0.1742       1.0454       2.0470  </code></pre>
</div>
</div>
</div><div class="column" style="width:10%;">

</div><div class="column" style="width:45%;">
<ul>
<li><p><code>R</code> “knows what to do” when you <code>print()</code> an object of class <code>"lm"</code>.</p></li>
<li><p><code>print()</code> is called a “generic” function.</p></li>
<li><p>You can create “methods” that get dispatched.</p></li>
<li><p>For any generic, <code>R</code> looks for a method for the class.</p></li>
<li><p>If available, it calls that function.</p></li>
</ul>
</div>
</div>
</section>
<section id="viewing-the-dispatch-chain" class="slide level2">
<h2>Viewing the dispatch chain</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>sloop<span class="sc">::</span><span class="fu">s3_dispatch</span>(<span class="fu">print</span>(incrementer))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=&gt; print.function
 * print.default</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>sloop<span class="sc">::</span><span class="fu">s3_dispatch</span>(<span class="fu">print</span>(tib))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   print.tbl_df
=&gt; print.tbl
 * print.data.frame
 * print.default</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>sloop<span class="sc">::</span><span class="fu">s3_dispatch</span>(<span class="fu">print</span>(mdl))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=&gt; print.lm
 * print.default</code></pre>
</div>
</div>
</section>
<section id="r-geeky-but-important" class="slide level2">
<h2>R-Geeky But Important</h2>
<p>There are <span class="secondary">lots</span> of generic functions in <code>R</code></p>
<p>Common ones are <code>print()</code>, <code>summary()</code>, and <code>plot()</code>.</p>
<p>Also, lots of important statistical modelling concepts: <code>residuals()</code> <code>coef()</code></p>
<p>(In <code>python</code>, these work the opposite way: <code>obj.residuals</code>. The dot after the object accesses methods defined for that type of object. But the dispatch behaviour is less robust.)</p>
<ul>
<li><p>The convention is that the specialized function is named <code>method.class</code>, e.g., <code>summary.lm</code>.</p></li>
<li><p>If no specialized function is defined, R will try to use <code>method.default</code>.</p></li>
</ul>
<p>For this reason, <code>R</code> programmers try to avoid <code>.</code> in names of functions or objects.</p>
</section>
<section id="wherefore-methods" class="slide level2">
<h2>Wherefore methods?</h2>
<ul>
<li><p>The advantage is that you don’t have to learn a totally new syntax to grab residuals or plot things</p></li>
<li><p>You just use <code>residuals(mdl)</code> whether <code>mdl</code> comes from <code>lm</code> could have been done two centuries ago, or a Batrachian Emphasis Machine which won’t be invented for another five years.</p></li>
<li><p>The one draw-back is the help pages for the generic methods tend to be pretty vague</p></li>
<li><p>Compare <code>?summary</code> with <code>?summary.lm</code>.</p></li>
</ul>
</section></section>
<section>
<section id="environments" class="title-slide slide level1 center">
<h1>Environments</h1>

</section>
<section id="different-environments" class="slide level2">
<h2>Different environments</h2>
<ul>
<li><p>These are often tricky, but are very common.</p></li>
<li><p>Most programming languages have this concept in one way or another.</p></li>
<li><p>In <code>R</code> code run in the Console produces objects in the “Global environment”</p></li>
<li><p>You can see what you create in the “Environment” tab.</p></li>
<li><p>But there’s lots of other stuff.</p></li>
<li><p>Many packages are automatically loaded at startup, so you have access to the functions and data inside</p></li>
</ul>
<p>For example <code>mean()</code>, <code>lm()</code>, <code>plot()</code>, <code>iris</code> (technically <code>iris</code> is lazy-loaded, meaning it’s not in memory until you call it, but it is available)</p>
</section>
<section id="section" class="slide level2">
<h2></h2>
<ul>
<li><p>Other packages require you to load them with <code>library(pkg)</code> before their functions are available.</p></li>
<li><p>But, you can call those functions by prefixing the package name <code>ggplot2::ggplot()</code>.</p></li>
<li><p>You can also access functions that the package developer didn’t “export” for use with <code>:::</code> like <code>dplyr:::as_across_fn_call()</code></p></li>
</ul>
<aside class="notes">
<p>That is all about accessing “objects in package environments”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="other-issues-with-environments" class="slide level2">
<h2>Other issues with environments</h2>
<p>As one might expect, functions create an environment inside the function.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>z <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb95-2"><a href="#cb95-2"></a>fun <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb95-3"><a href="#cb95-3"></a>  z <span class="ot">&lt;-</span> x</span>
<span id="cb95-4"><a href="#cb95-4"></a>  <span class="fu">print</span>(z)</span>
<span id="cb95-5"><a href="#cb95-5"></a>  <span class="fu">invisible</span>(z)</span>
<span id="cb95-6"><a href="#cb95-6"></a>}</span>
<span id="cb95-7"><a href="#cb95-7"></a><span class="fu">fun</span>(<span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 14</code></pre>
</div>
</div>
<p>Non-trivial cases are <code>data-masking</code> environments.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>tib <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x1 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),  <span class="at">x2 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),  <span class="at">y =</span> x1 <span class="sc">+</span> <span class="dv">2</span> <span class="sc">*</span> x2)</span>
<span id="cb97-2"><a href="#cb97-2"></a>mdl <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x2, <span class="at">data =</span> tib)</span>
<span id="cb97-3"><a href="#cb97-3"></a>x2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(expr, envir, enclos): object 'x2' not found</code></pre>
</div>
</div>
<ul>
<li><code>lm()</code> looks “inside” the <code>tib</code> to find <code>y</code> and <code>x2</code></li>
<li>The data variables are added to the <code>lm</code> environment</li>
</ul>
</section>
<section id="other-issues-with-environments-1" class="slide level2">
<h2>Other issues with environments</h2>
<p><span class="fourth-colour">When Knit, <code>.Rmd</code> files run in their OWN environment.</span></p>
<p>They are run from top to bottom, with code chunks depending on previous</p>
<p>This makes them reproducible.</p>
<p>Jupyter notebooks don’t do this. 😱</p>
<p>Objects in your local environment are not available in the <code>.Rmd</code></p>
<p>Objects in the <code>.Rmd</code> are not available locally.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Tip</strong></p>
</div>
<div class="callout-content">
<p>The most frequent error I see is:</p>
<ul>
<li>running chunks individually, 1-by-1, and it works</li>
<li>Knitting, and it fails</li>
</ul>
<p>The reason is almost always that the chunks refer to objects in the Environment that don’t exist in the <code>.Rmd</code></p>
</div>
</div>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<h3 id="this-error-also-happens-because">This error also happens because:</h3>
<ul>
<li><code>library()</code> calls were made globally but not in the <code>.Rmd</code>
<ul>
<li>so the packages aren’t loaded</li>
</ul></li>
<li>paths to data or other objects are not relative to the <code>.Rmd</code> in your file system
<ul>
<li>they must be</li>
</ul></li>
<li>Carefully keeping Labs / Assignments in their current location will help to avoid some of these.</li>
</ul>
</section></section>
<section>
<section id="debugging" class="title-slide slide level1 center">
<h1>Debugging</h1>

</section>
<section id="how-to-fix-code" class="slide level2">
<h2>How to fix code</h2>
<ul>
<li>If you’re using a function in a package, start with <code>?function</code> to see the help
<ul>
<li>Make sure you’re calling the function correctly.</li>
<li>Try running the examples.</li>
<li>paste the error into Google (if you share the error on Slack, I often do this first)</li>
<li>Go to the package website if it exists, and browse around</li>
</ul></li>
<li>If your <code>.Rmd</code> won’t Knit
<ul>
<li>Did you make the mistake on the last slide?</li>
<li>Did it Knit before? Then the bug is in whatever you added.</li>
<li>Did you never Knit it? Why not?</li>
<li>Call <code>rstudioapi::restartSession()</code>, then run the Chunks 1-by-1</li>
</ul></li>
</ul>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<p>Adding <code>browser()</code></p>
<ul>
<li>Only useful with your own functions.</li>
<li>Open the script with the function, and add <code>browser()</code> to the code somewhere</li>
<li>Then call your function.</li>
<li>The execution will Stop where you added <code>browser()</code> and you’ll have access to the local objects (and the global objects) to play around</li>
</ul>
</section>
<section id="reproducible-examples" class="slide level2">
<h2>Reproducible examples</h2>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Question I get on Slack that I hate:</strong></p>
</div>
<div class="callout-content">
<p>“I ran the code like you had on Slide 39, but it didn’t work.”</p>
</div>
</div>
</div>
<ul>
<li>If you want to ask me why the code doesn’t work, you need to show me what’s wrong.</li>
</ul>
<div class="callout callout-warning callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Don’t just paste a screenshot!</strong></p>
</div>
<div class="callout-content">
<p>Unless you get lucky, I won’t be able to figure it out from that. And we’ll both get frustrated.</p>
</div>
</div>
</div>
<p>What you need is a Reproducible Example or <code>reprex</code>.</p>
<ul>
<li>This is a small chunk of code that
<ol type="1">
<li>runs in it’s own environment</li>
<li>and produces the error.</li>
</ol></li>
</ul>
</section></section>
<section>
<section id="section-3" class="title-slide slide level1 center">
<h1></h1>
<p>The best way to do this is with the <code>{reprex}</code> package.</p>
</section>
<section id="reproducible-examples-how-it-works" class="slide level2 smaller">
<h2>Reproducible examples, How it works</h2>
<ol type="1">
<li><p>Open a new <code>.R</code> script.</p></li>
<li><p>Paste your buggy code in the file (no need to save)</p></li>
<li><p>Edit your code to make sure it’s “enough to produce the error” and nothing more. (By rerunning the code a few times.)</p></li>
<li><p>Copy your code.</p></li>
<li><p>Call <code>reprex::reprex(venue = "r")</code> from the console. This will run your code in a new environment and show the result in the Viewer tab. Does it create the error you expect?</p></li>
<li><p>If it creates other errors, that may be the problem. You may fix the bug on your own!</p></li>
<li><p>If it doesn’t have errors, then your global environment is Farblunget.</p></li>
<li><p>The Output is now on your clipboard. Go to Slack and paste it in a message. Then press <code>Cmd+Shift+Enter</code> (on Mac) or <code>Ctrl+Shift+Enter</code> (Windows/Linux). Under Type, select <code>R</code>.</p></li>
<li><p>Send the message, perhaps with more description and an SOS emoji.</p></li>
</ol>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Because Reprex runs in it’s own environment, it doesn’t have access to any of the libraries you loaded or the stuff in your global environment. You’ll have to load these things in the script.</p>
</div>
</div>
</div>
</section></section>
<section>
<section id="understanding-tidyverse" class="title-slide slide level1 center">
<h1>Understanding <code>{tidyverse}</code></h1>

</section>
<section id="tidyverse-is-huge" class="slide level2">
<h2><code>{tidyverse}</code> is huge</h2>
<p>Core tidyverse is nearly 30 different R packages, but we’re going to just talk about a few of them.</p>
<p>Falls roughly into a few categories:</p>
<ol type="1">
<li><span class="secondary">Convenience functions:</span> <code>{magrittr}</code> and many many others.</li>
<li><span class="secondary">Data processing:</span> <code>{dplyr}</code> and many others.</li>
<li><span class="secondary">Graphing:</span> <code>{ggplot2}</code> and some others like <code>{scales}</code>.</li>
<li><span class="secondary">Utilities</span></li>
</ol>
<div class="fragment">
<hr>
<p>We’re going to talk quickly about some of it, but ignore much of 2.</p>
<p>There’s a lot that’s great about these packages, especially ease of data processing.</p>
<p>But it doesn’t always jive with base <code>R</code> (it’s almost a separate proglang at this point).</p>
</div>
</section>
<section id="piping" class="slide level2">
<h2>Piping</h2>
<p>This was introduced by <code>{magrittr}</code> as <code>%&gt;%</code>,</p>
<p>but is now in base R (&gt;=4.1.0) as <code>|&gt;</code>.</p>
<p>Note: there are other pipes in <code>{magrittr}</code> (e.g.&nbsp;<code>%$%</code> and <code>%T%</code>) but I’ve never used them.</p>
<p>I’ve used the old version for so long, that it’s hard for me to adopt the new one.</p>
<p>The point of the pipe is to <span class="secondary">logically sequence nested operations</span></p>
</section>
<section id="example" class="slide level2">
<h2>Example</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>mse1 <span class="ot">&lt;-</span> <span class="fu">print</span>(</span>
<span id="cb99-2"><a href="#cb99-2"></a>  <span class="fu">sum</span>(</span>
<span id="cb99-3"><a href="#cb99-3"></a>    <span class="fu">residuals</span>(</span>
<span id="cb99-4"><a href="#cb99-4"></a>      <span class="fu">lm</span>(y<span class="sc">~</span>., <span class="at">data =</span> <span class="fu">mutate</span>(</span>
<span id="cb99-5"><a href="#cb99-5"></a>        tib, </span>
<span id="cb99-6"><a href="#cb99-6"></a>        <span class="at">x3 =</span> x1<span class="sc">^</span><span class="dv">2</span>,</span>
<span id="cb99-7"><a href="#cb99-7"></a>        <span class="at">x4 =</span> <span class="fu">log</span>(x2 <span class="sc">+</span> <span class="fu">abs</span>(<span class="fu">min</span>(x2)) <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb99-8"><a href="#cb99-8"></a>      )</span>
<span id="cb99-9"><a href="#cb99-9"></a>      )</span>
<span id="cb99-10"><a href="#cb99-10"></a>    )<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb99-11"><a href="#cb99-11"></a>  )</span>
<span id="cb99-12"><a href="#cb99-12"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.469568e-29</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb101" data-code-line-numbers="|5-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>mse2 <span class="ot">&lt;-</span> tib <span class="sc">|&gt;</span></span>
<span id="cb101-2"><a href="#cb101-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-3"><a href="#cb101-3"></a>    <span class="at">x3 =</span> x1<span class="sc">^</span><span class="dv">2</span>, </span>
<span id="cb101-4"><a href="#cb101-4"></a>    <span class="at">x4 =</span> <span class="fu">log</span>(x2 <span class="sc">+</span> <span class="fu">abs</span>(<span class="fu">min</span>(x2)) <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb101-5"><a href="#cb101-5"></a>  ) <span class="sc">%&gt;%</span> <span class="co"># base pipe only goes to first arg</span></span>
<span id="cb101-6"><a href="#cb101-6"></a>  <span class="fu">lm</span>(y <span class="sc">~</span> ., <span class="at">data =</span> .) <span class="sc">|&gt;</span> <span class="co"># note the use of `.`</span></span>
<span id="cb101-7"><a href="#cb101-7"></a>  <span class="fu">residuals</span>() <span class="sc">|&gt;</span></span>
<span id="cb101-8"><a href="#cb101-8"></a>  magrittr<span class="sc">::</span><span class="fu">raise_to_power</span>(<span class="dv">2</span>) <span class="sc">|&gt;</span> <span class="co"># same as `^`(2)</span></span>
<span id="cb101-9"><a href="#cb101-9"></a>  <span class="fu">sum</span>() <span class="sc">|&gt;</span></span>
<span id="cb101-10"><a href="#cb101-10"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.469568e-29</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="section-4" class="slide level2">
<h2></h2>
<p>It may seem like we should push this all the way</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb103" data-code-line-numbers="|9-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>tib <span class="sc">|&gt;</span></span>
<span id="cb103-2"><a href="#cb103-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb103-3"><a href="#cb103-3"></a>    <span class="at">x3 =</span> x1<span class="sc">^</span><span class="dv">2</span>, </span>
<span id="cb103-4"><a href="#cb103-4"></a>    <span class="at">x4 =</span> <span class="fu">log</span>(x2 <span class="sc">+</span> <span class="fu">abs</span>(<span class="fu">min</span>(x2)) <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb103-5"><a href="#cb103-5"></a>  ) <span class="sc">%&gt;%</span> <span class="co"># base pipe only goes to first arg</span></span>
<span id="cb103-6"><a href="#cb103-6"></a>  <span class="fu">lm</span>(y <span class="sc">~</span> ., <span class="at">data =</span> .) <span class="sc">|&gt;</span> <span class="co"># note the use of `.`</span></span>
<span id="cb103-7"><a href="#cb103-7"></a>  <span class="fu">residuals</span>() <span class="sc">|&gt;</span></span>
<span id="cb103-8"><a href="#cb103-8"></a>  magrittr<span class="sc">::</span><span class="fu">raise_to_power</span>(<span class="dv">2</span>) <span class="sc">|&gt;</span> <span class="co"># same as `^`(2)</span></span>
<span id="cb103-9"><a href="#cb103-9"></a>  <span class="fu">sum</span>() <span class="ot">-&gt;</span></span>
<span id="cb103-10"><a href="#cb103-10"></a>  mse3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This works, but it’s really annoying.</p>
</section>
<section id="data-processing-in-dplyr" class="slide level2 smaller">
<h2>Data processing in <code>{dplyr}</code></h2>
<p>This package has all sorts of things. And it interacts with <code>{tibble}</code> generally.</p>
<p>The basic idea is “tibble in, tibble out”.</p>
<p>Satisfies <span class="secondary">data masking</span> which means you can refer to columns by name or use helpers like <code>ends_with("_rate")</code></p>
<p>Majorly useful operations:</p>
<ol type="1">
<li><code>select()</code> (chooses columns to keep)</li>
<li><code>mutate()</code> (showed this already)</li>
<li><code>group_by()</code></li>
<li><code>pivot_longer()</code> and <code>pivot_wider()</code></li>
<li><code>left_join()</code> and <code>full_join()</code></li>
<li><code>summarise()</code></li>
</ol>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p><code>filter()</code> and <code>select()</code> are functions in Base R.</p>
<p>Sometimes you get 🐞 because it called the wrong version.</p>
<p>To be sure, prefix it like <code>dplyr::select()</code>.</p>
</div>
</div>
</div>
</section>
<section id="a-useful-data-frame" class="slide level2">
<h2>A useful data frame</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a><span class="fu">library</span>(epidatr)</span>
<span id="cb104-2"><a href="#cb104-2"></a>covid <span class="ot">&lt;-</span> <span class="fu">covidcast</span>(</span>
<span id="cb104-3"><a href="#cb104-3"></a>  <span class="at">data_source =</span> <span class="st">"jhu-csse"</span>,</span>
<span id="cb104-4"><a href="#cb104-4"></a>  <span class="at">signals =</span> <span class="st">"confirmed_7dav_incidence_prop,deaths_7dav_incidence_prop"</span>,</span>
<span id="cb104-5"><a href="#cb104-5"></a>  <span class="at">time_type =</span> <span class="st">"day"</span>,</span>
<span id="cb104-6"><a href="#cb104-6"></a>  <span class="at">geo_type =</span> <span class="st">"state"</span>,</span>
<span id="cb104-7"><a href="#cb104-7"></a>  <span class="at">time_values =</span> <span class="fu">epirange</span>(<span class="dv">20220801</span>, <span class="dv">20220821</span>),</span>
<span id="cb104-8"><a href="#cb104-8"></a>  <span class="at">geo_values =</span> <span class="st">"ca,wa"</span>) <span class="sc">|&gt;</span></span>
<span id="cb104-9"><a href="#cb104-9"></a>  <span class="fu">fetch</span>() <span class="sc">|&gt;</span></span>
<span id="cb104-10"><a href="#cb104-10"></a>  <span class="fu">select</span>(geo_value, time_value, signal, value)</span>
<span id="cb104-11"><a href="#cb104-11"></a></span>
<span id="cb104-12"><a href="#cb104-12"></a>covid</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 84 × 4
   geo_value time_value signal                        value
   &lt;chr&gt;     &lt;date&gt;     &lt;chr&gt;                         &lt;dbl&gt;
 1 ca        2022-08-01 confirmed_7dav_incidence_prop  45.4
 2 wa        2022-08-01 confirmed_7dav_incidence_prop  27.7
 3 ca        2022-08-02 confirmed_7dav_incidence_prop  44.9
 4 wa        2022-08-02 confirmed_7dav_incidence_prop  27.7
 5 ca        2022-08-03 confirmed_7dav_incidence_prop  44.5
 6 wa        2022-08-03 confirmed_7dav_incidence_prop  26.6
 7 ca        2022-08-04 confirmed_7dav_incidence_prop  42.3
 8 wa        2022-08-04 confirmed_7dav_incidence_prop  26.6
 9 ca        2022-08-05 confirmed_7dav_incidence_prop  40.7
10 wa        2022-08-05 confirmed_7dav_incidence_prop  34.6
# ℹ 74 more rows</code></pre>
</div>
</div>
</section>
<section id="examples" class="slide level2">
<h2>Examples</h2>
<p>Rename the <code>signal</code> to something short.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a>covid <span class="ot">&lt;-</span> covid <span class="sc">|&gt;</span> </span>
<span id="cb106-2"><a href="#cb106-2"></a>  <span class="fu">mutate</span>(<span class="at">signal =</span> <span class="fu">case_when</span>(</span>
<span id="cb106-3"><a href="#cb106-3"></a>    <span class="fu">str_starts</span>(signal, <span class="st">"confirmed"</span>) <span class="sc">~</span> <span class="st">"case_rate"</span>, </span>
<span id="cb106-4"><a href="#cb106-4"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"death_rate"</span></span>
<span id="cb106-5"><a href="#cb106-5"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sort by <code>time_value</code> then <code>geo_value</code></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>covid <span class="ot">&lt;-</span> covid <span class="sc">|&gt;</span> <span class="fu">arrange</span>(time_value, geo_value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Calculate grouped medians</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>covid <span class="sc">|&gt;</span> </span>
<span id="cb108-2"><a href="#cb108-2"></a>  <span class="fu">group_by</span>(geo_value, signal) <span class="sc">|&gt;</span></span>
<span id="cb108-3"><a href="#cb108-3"></a>  <span class="fu">summarise</span>(<span class="at">med =</span> <span class="fu">median</span>(value), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
  geo_value signal        med
  &lt;chr&gt;     &lt;chr&gt;       &lt;dbl&gt;
1 ca        case_rate  33.2  
2 ca        death_rate  0.112
3 wa        case_rate  23.2  
4 wa        death_rate  0.178</code></pre>
</div>
</div>
</section>
<section id="examples-1" class="slide level2">
<h2>Examples</h2>
<p>Split the data into two tibbles by signal</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a>cases <span class="ot">&lt;-</span> covid <span class="sc">|&gt;</span> </span>
<span id="cb110-2"><a href="#cb110-2"></a>  <span class="fu">filter</span>(signal <span class="sc">==</span> <span class="st">"case_rate"</span>) <span class="sc">|&gt;</span></span>
<span id="cb110-3"><a href="#cb110-3"></a>  <span class="fu">rename</span>(<span class="at">case_rate =</span> value) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>signal)</span>
<span id="cb110-4"><a href="#cb110-4"></a>deaths <span class="ot">&lt;-</span> covid <span class="sc">|&gt;</span> </span>
<span id="cb110-5"><a href="#cb110-5"></a>  <span class="fu">filter</span>(signal <span class="sc">==</span> <span class="st">"death_rate"</span>) <span class="sc">|&gt;</span></span>
<span id="cb110-6"><a href="#cb110-6"></a>  <span class="fu">rename</span>(<span class="at">death_rate =</span> value) <span class="sc">|&gt;</span> <span class="fu">select</span>(<span class="sc">-</span>signal)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Join them together</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a>joined <span class="ot">&lt;-</span> <span class="fu">full_join</span>(cases, deaths, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"geo_value"</span>, <span class="st">"time_value"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Do the same thing by pivoting</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a>covid <span class="sc">|&gt;</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> signal, <span class="at">values_from =</span> value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 42 × 4
   geo_value time_value case_rate death_rate
   &lt;chr&gt;     &lt;date&gt;         &lt;dbl&gt;      &lt;dbl&gt;
 1 ca        2022-08-01      45.4      0.105
 2 wa        2022-08-01      27.7      0.169
 3 ca        2022-08-02      44.9      0.106
 4 wa        2022-08-02      27.7      0.169
 5 ca        2022-08-03      44.5      0.107
 6 wa        2022-08-03      26.6      0.173
 7 ca        2022-08-04      42.3      0.112
 8 wa        2022-08-04      26.6      0.173
 9 ca        2022-08-05      40.7      0.116
10 wa        2022-08-05      34.6      0.225
# ℹ 32 more rows</code></pre>
</div>
</div>
</section>
<section id="plotting-with-ggplot2" class="slide level2">
<h2>Plotting with <code>{ggplot2}</code></h2>
<ul>
<li><p>Everything you can do with <code>ggplot()</code>, you can do with <code>plot()</code>. But the defaults are <em>much</em> prettier.</p></li>
<li><p>It’s also much easier to adjust by aesthetics / panels by factors.</p></li>
<li><p>It also uses “data masking”: data goes into <code>ggplot(data = mydata)</code>, then the columns are available to the rest.</p></li>
<li><p>It (sort of) pipes, but by adding <strong>layers</strong> with <code>+</code></p></li>
<li><p>It <span class="secondary">strongly prefers</span> “long” data frames over “wide” data frames.</p></li>
</ul>
<hr>
<p>I’ll give a very fast overview of some confusing bits.</p>
</section></section>
<section>
<section id="section-5" class="title-slide slide level1 center">
<h1></h1>
<p>I suggest exploring</p>
<p>🔗 <a href="https://djnavarro.net/slides-starting-ggplot/">This slide deck</a></p>
<p>for more help</p>
</section>
<section class="slide level2">

<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb114-2"><a href="#cb114-2"></a>  <span class="at">data =</span> covid <span class="sc">|&gt;</span> </span>
<span id="cb114-3"><a href="#cb114-3"></a>    <span class="fu">filter</span>(signal <span class="sc">==</span> <span class="st">"case_rate"</span>)</span>
<span id="cb114-4"><a href="#cb114-4"></a>) <span class="sc">+</span></span>
<span id="cb114-5"><a href="#cb114-5"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb114-6"><a href="#cb114-6"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb114-7"><a href="#cb114-7"></a>      <span class="at">x =</span> time_value,</span>
<span id="cb114-8"><a href="#cb114-8"></a>      <span class="at">y =</span> value</span>
<span id="cb114-9"><a href="#cb114-9"></a>    )</span>
<span id="cb114-10"><a href="#cb114-10"></a>  ) <span class="sc">+</span> </span>
<span id="cb114-11"><a href="#cb114-11"></a>  <span class="fu">geom_smooth</span>( </span>
<span id="cb114-12"><a href="#cb114-12"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>( </span>
<span id="cb114-13"><a href="#cb114-13"></a>      <span class="at">x =</span> time_value, </span>
<span id="cb114-14"><a href="#cb114-14"></a>      <span class="at">y =</span> value </span>
<span id="cb114-15"><a href="#cb114-15"></a>    ) </span>
<span id="cb114-16"><a href="#cb114-16"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/adding-geoms-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li><p>The complete code</p></li>
<li><p>Data is specified in the ggplot, passed along</p></li>
<li><p>(we show only case_rate)</p></li>
<li><p>The Grey SE shading is pretty ugly</p></li>
<li><p>And there are two states mashed together</p></li>
<li><p>That trend is awfully wiggly</p></li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb115-2"><a href="#cb115-2"></a>  <span class="at">data =</span> covid <span class="sc">|&gt;</span> <span class="fu">filter</span>(signal <span class="sc">==</span> <span class="st">"case_rate"</span>)</span>
<span id="cb115-3"><a href="#cb115-3"></a>) <span class="sc">+</span></span>
<span id="cb115-4"><a href="#cb115-4"></a>  <span class="fu">geom_point</span>(</span>
<span id="cb115-5"><a href="#cb115-5"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb115-6"><a href="#cb115-6"></a>      <span class="at">x =</span> time_value,</span>
<span id="cb115-7"><a href="#cb115-7"></a>      <span class="at">y =</span> value,</span>
<span id="cb115-8"><a href="#cb115-8"></a>      <span class="at">colour =</span> geo_value</span>
<span id="cb115-9"><a href="#cb115-9"></a>    )</span>
<span id="cb115-10"><a href="#cb115-10"></a>  ) <span class="sc">+</span> </span>
<span id="cb115-11"><a href="#cb115-11"></a>  <span class="fu">geom_smooth</span>( </span>
<span id="cb115-12"><a href="#cb115-12"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>( </span>
<span id="cb115-13"><a href="#cb115-13"></a>      <span class="at">x =</span> time_value, </span>
<span id="cb115-14"><a href="#cb115-14"></a>      <span class="at">y =</span> value,</span>
<span id="cb115-15"><a href="#cb115-15"></a>      <span class="at">colour =</span> geo_value</span>
<span id="cb115-16"><a href="#cb115-16"></a>    ),</span>
<span id="cb115-17"><a href="#cb115-17"></a>    <span class="at">se =</span> <span class="cn">FALSE</span>,</span>
<span id="cb115-18"><a href="#cb115-18"></a>    <span class="at">method =</span> <span class="st">"lm"</span></span>
<span id="cb115-19"><a href="#cb115-19"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/adding-geoms2-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>Separate out the states by colour</li>
<li>straight lines instead</li>
<li>no more grey shading</li>
<li>Why do I keep writing all that mapping = stuff?</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb116-2"><a href="#cb116-2"></a>  <span class="at">data =</span> covid <span class="sc">|&gt;</span> <span class="fu">filter</span>(signal <span class="sc">==</span> <span class="st">"case_rate"</span>),</span>
<span id="cb116-3"><a href="#cb116-3"></a>  <span class="at">mapping =</span> <span class="fu">aes</span>(</span>
<span id="cb116-4"><a href="#cb116-4"></a>    <span class="at">x =</span> time_value,</span>
<span id="cb116-5"><a href="#cb116-5"></a>    <span class="at">y =</span> value,</span>
<span id="cb116-6"><a href="#cb116-6"></a>    <span class="at">colour =</span> geo_value</span>
<span id="cb116-7"><a href="#cb116-7"></a>  )</span>
<span id="cb116-8"><a href="#cb116-8"></a>) <span class="sc">+</span></span>
<span id="cb116-9"><a href="#cb116-9"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb116-10"><a href="#cb116-10"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">"lm"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/adding-geoms3-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>mapping in the <code>ggplot()</code> call is shared across the rest</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb117-2"><a href="#cb117-2"></a>  covid <span class="sc">|&gt;</span> <span class="fu">filter</span>(signal <span class="sc">==</span> <span class="st">"case_rate"</span>),</span>
<span id="cb117-3"><a href="#cb117-3"></a>  <span class="fu">aes</span>(time_value, value, <span class="at">colour =</span> geo_value)</span>
<span id="cb117-4"><a href="#cb117-4"></a>) <span class="sc">+</span></span>
<span id="cb117-5"><a href="#cb117-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb117-6"><a href="#cb117-6"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">"lm"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/adding-geoms4-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Don’t need to name the arguments.</p>
<p>This is typically what ggplot code looks like.</p>
<p>Let’s go a bit further to spruce this up.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb118-2"><a href="#cb118-2"></a>  covid, </span>
<span id="cb118-3"><a href="#cb118-3"></a>  <span class="fu">aes</span>(time_value, value, <span class="at">colour =</span> geo_value)</span>
<span id="cb118-4"><a href="#cb118-4"></a>) <span class="sc">+</span></span>
<span id="cb118-5"><a href="#cb118-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb118-6"><a href="#cb118-6"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb118-7"><a href="#cb118-7"></a>  <span class="fu">facet_grid</span>(signal <span class="sc">~</span> geo_value) <span class="sc">+</span></span>
<span id="cb118-8"><a href="#cb118-8"></a>  <span class="fu">scale_colour_manual</span>(</span>
<span id="cb118-9"><a href="#cb118-9"></a>    <span class="at">name =</span> <span class="cn">NULL</span>, </span>
<span id="cb118-10"><a href="#cb118-10"></a>    <span class="at">values =</span> <span class="fu">c</span>(blue, orange)) <span class="sc">+</span></span>
<span id="cb118-11"><a href="#cb118-11"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/adding-geoms5-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>use facet_grid to split out states / show both signals (formula)</li>
<li>change the colour scaling, remove the annoying title</li>
<li>put the legend on the bottom</li>
<li>But the y-axis scale is shared, measurements are on different scales</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section class="slide level2">

<div class="cell columns column-output-location" data-layout-align="center">
<div class="column">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="fu">ggplot</span>(</span>
<span id="cb119-2"><a href="#cb119-2"></a>  covid, </span>
<span id="cb119-3"><a href="#cb119-3"></a>  <span class="fu">aes</span>(time_value, value, <span class="at">colour =</span> geo_value)</span>
<span id="cb119-4"><a href="#cb119-4"></a>) <span class="sc">+</span></span>
<span id="cb119-5"><a href="#cb119-5"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb119-6"><a href="#cb119-6"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb119-7"><a href="#cb119-7"></a>  <span class="fu">facet_grid</span>(signal <span class="sc">~</span> geo_value, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb119-8"><a href="#cb119-8"></a>  <span class="fu">scale_colour_manual</span>(</span>
<span id="cb119-9"><a href="#cb119-9"></a>    <span class="at">name =</span> <span class="cn">NULL</span>, </span>
<span id="cb119-10"><a href="#cb119-10"></a>    <span class="at">values =</span> <span class="fu">c</span>(blue, orange)) <span class="sc">+</span></span>
<span id="cb119-11"><a href="#cb119-11"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="00-r-review_files/figure-revealjs/adding-geoms6-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>

<div class="footer footer-default">
<p>UBC Stat 406 - 2023</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var filterRegex = new RegExp("https:\/\/github\.com\/UBC-STAT\/stat-406");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
              // target, if specified
              link.setAttribute("target", "_blank");
              // default icon
              link.classList.add("external");
          }
        }
    });
    </script>
    

</body></html>
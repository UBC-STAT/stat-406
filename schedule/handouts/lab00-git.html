<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-09-08">

<title>UBC Stat406 2023W - Lab 00 Git</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title"><i class="fa-solid fa-chart-column" aria-label="chart-column"></i> UBC Stat406</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../schedule/index.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://ubc-stat.github.io/stat-406-worksheets/" rel="" target="">
 <span class="menu-text">Worksheets</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../computing/index.html" rel="" target="">
 <span class="menu-text">Computing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://ubc-stat.github.io/stat-406-rpackage/" rel="" target="">
 <span class="menu-text">{Rpkg} Docs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../faq.html" rel="" target="">
 <span class="menu-text">FAQ</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/stat-406-2023" rel="" target="">
 <span class="menu-text"><i class="fa-brands fa-github" aria-label="github"></i> Github</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#prework" id="toc-prework" class="nav-link active" data-scroll-target="#prework">Prework</a></li>
  <li><a href="#lab-overview" id="toc-lab-overview" class="nav-link" data-scroll-target="#lab-overview">Lab overview</a></li>
  <li><a href="#the-right-way" id="toc-the-right-way" class="nav-link" data-scroll-target="#the-right-way">The right way</a>
  <ul class="collapse">
  <li><a href="#aside" id="toc-aside" class="nav-link" data-scroll-target="#aside">Aside</a></li>
  <li><a href="#end-aside" id="toc-end-aside" class="nav-link" data-scroll-target="#end-aside">End Aside</a></li>
  </ul></li>
  <li><a href="#the-wrong-ways" id="toc-the-wrong-ways" class="nav-link" data-scroll-target="#the-wrong-ways">The wrong way(s)</a>
  <ul class="collapse">
  <li><a href="#scenario-1.-you-do-work-on-the-wrong-branch." id="toc-scenario-1.-you-do-work-on-the-wrong-branch." class="nav-link" data-scroll-target="#scenario-1.-you-do-work-on-the-wrong-branch.">Scenario 1. You do work on the wrong branch.</a></li>
  <li><a href="#scenario-2.-you-did-something-you-shouldnt-have" id="toc-scenario-2.-you-did-something-you-shouldnt-have" class="nav-link" data-scroll-target="#scenario-2.-you-did-something-you-shouldnt-have">Scenario 2. You did something you shouldn’t have</a></li>
  </ul></li>
  <li><a href="#finish-up" id="toc-finish-up" class="nav-link" data-scroll-target="#finish-up">Finish up</a>
  <ul class="collapse">
  <li><a href="#lets-just-recap-the-right-way." id="toc-lets-just-recap-the-right-way." class="nav-link" data-scroll-target="#lets-just-recap-the-right-way.">Let’s just recap THE RIGHT WAY.</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/ubc-stat/stat-406/blob/main/schedule/handouts/lab00-git.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/ubc-stat/stat-406/issues/new/" class="toc-action">Report an issue</a></p><p><a href="https://github.com/ubc-stat/stat-406/edit/main/schedule/handouts/lab00-git.qmd" class="toc-action">Edit this page</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 00 Git</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 8, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="prework" class="level1">
<h1>Prework</h1>
<ol type="1">
<li>Check your <a href="https://community.canvaslms.com/t5/Student-Guide/How-do-I-add-contact-methods-to-receive-Canvas-notifications-as/ta-p/516">Canvas profile settings</a> to ensure the email associated with your Canvas account is correct.</li>
<li>Review your <a href="https://community.canvaslms.com/t5/Student-Guide/How-do-I-set-my-Canvas-notification-preferences-as-a-student/ta-p/434">Canvas notification settings</a> and decide what you want to be notified about.</li>
<li>Visit the <a href="../../index.html">Course website</a>. In particular, as you might expect, this course requires computing. We will use R and RStudio as well as Git and GitHub. See the <a href="../../computing/">Computing</a> tab.</li>
<li>If you have never used GitHub before, go to <a href="https://github.com/" class="uri">https://github.com/</a> create an account. You should be aware that this data is stored on US servers. Please exercise caution whenever using personal information. You may wish to use a pseudonym to protect your privacy if you have concerns.</li>
</ol>
<p>If you haven’t already, visit <a href="../../computing/">Computing</a> and follow the instructions to set up your computer.</p>
<ul>
<li>Clone your <code>labs-&lt;username&gt;</code> repo.
<ol type="1">
<li>Navigate to the Course GitHub using the link in the Navbar.</li>
<li>Then go to your <code>labs-&lt;username&gt;</code></li>
<li>Click the Green “Code” button, and copy the url by clicking the two overlapping squares.</li>
<li>Then in RStudio, choose “New project” &gt; “Version Control” &gt; “Git” and paste the address.</li>
<li>Choose a location on your machine where you want all your labs to be.</li>
<li>Select “Create Project”.</li>
</ol></li>
</ul>
</section>
<section id="lab-overview" class="level1">
<h1>Lab overview</h1>
<p>If you followed all the steps above, you should have an RStudio project for all the labs for this course. You will never have to do any of those steps again (except the Cloning, once, for your Homework).</p>
<p>In this lab, we’ll do two things. The first is to demonstrate the “correct” way to do a lab or assignment and submit it. So we’ll get this unfinished lab all ready for submission.</p>
<p>The second thing is to explore Git just a little. Specifically, we’ll pretend like we’re doing another submission and mess everything up. Then we’ll fix it. Finally, we’ll submit the whole lab.</p>
</section>
<section id="the-right-way" class="level1">
<h1>The right way</h1>
<p>Beginning a new Lab or homework assignment always starts out like this.</p>
<ol type="1">
<li>In the upper right quadrant of RStudio, you should see a number of tabs. Click the one that says “Git”.</li>
<li>On the right side it should say <code>main</code>. This is the branch you’re on.</li>
<li>ALWAYS, start from <code>main</code>.</li>
<li>Click ⬇️ Pull. This will make sure that your machine has everything on the remote. If I have to update something, this will get your stuff up-to-date.</li>
<li>Create a new branch by clicking the thing that looks like two purple squares pointing at a diamond.</li>
<li>You can name your branch anything you like, but I’d suggest <code>lab00-git</code> to denote the work that will happen here.</li>
<li>Ensure that “Sync branch with remote” is checked and click “Create”.</li>
<li>Now open <code>lab00-git.Rmd</code>. You’ll see all the instructions you’ve been looking at there in that document.</li>
<li>Try to click <code>Knit</code> or use <code>Cmd+Shift+K</code> (<code>Ctrl+Shift+K</code> on Windows/Linux). To render the lab to <code>.pdf</code>. You should always do this first to make sure everything works.</li>
<li>On the previous line, Delete the last sentence “You should always do this first…”. And Save.</li>
<li>Now, looking in the Git panel, you should see <code>lab00-git.Rmd</code> and <code>lab00-git.pdf</code> with check boxes next to them.</li>
<li>Git “Stages” your changes when you click the check box. Click the box by <code>lab00-git.Rmd</code>.</li>
<li>Commit your changes by clicking Commit. A message window will pop up. Type a message about what you did. Something like “I hate verbose instructions”. Click <code>Commit</code>.</li>
</ol>
<p>The last two steps are the basic procedure you will always use. You save regularly. Every so often (maybe each time you finish a section), you Stage + Commit. For a lab to get full credit, you must have done this at least 3 times.</p>
<p>Note, only files that are “Committed” will ever go to GitHub for grading. You should only commit the <code>.Rmd</code> and the <code>.pdf</code>. If other things appear, you may be doing something wrong.</p>
<p>So at this point you’ve made one commit.</p>
<hr>
<section id="aside" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="aside">Aside</h3>
<p>In other labs and homework, you’ll see something that looks like</p>
<pre><code>::: {.solbox data-latex=""}

some dumb text

:::</code></pre>
<p>It’s called <code>.solbox</code> because that’s where your solutions will go. It makes it easier for the TAs to find your answers. So don’t delete this. You should safely put code and markdown text inside, and it will all “work”.</p>
<p>But watch out. It <strong>MUST</strong> contain text. That’s why it starts with text in it. If you delete it, resulting in an empty box, your document won’t Knit.</p>
</section>
<section id="end-aside" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="end-aside">End Aside</h3>
<hr>
<p>Let’s pretend, now that we’re <em>Done With The Lab</em>. You may still see the unstaged <code>.pdf</code> file in that window. If so, don’t worry, ignore that for the moment. Click the Green Up Arrow ⬆️.</p>
<p>That “Pushes” your changes to GitHub. There, the TAs can see what you’ve done. Go back to your Browser and take a look. You may need to refresh the page.</p>
<p>You should see a Yellow bar that says something like “<code>lab00-git</code> had recent pushes” and a Green Button that says “Compare &amp; pull request”. Click that button!</p>
<p>Now you can write notes to the TA that will review your work. You give it a title like “Submission of Lab 00”. There are also some prompts for you to address. Go ahead and answer all the questions. While you’re there, scroll down and examine the changes you’ve made. You should only see a small modification to 1 file. Go ahead and click the Green Button that says “Create pull request”.</p>
<hr>
<p>At this point, you would be done (kinda). The TAs will automatically be triggered to review your work. They can comment on what you’ve done and leave the grade. But we’re not done. That’s OK Even though you’ve opened the Pull Request (PR), you can still push more changes to the branch. So that’s what we’ll do.</p>
<p>In General, you would<br>
<code>for (i in niters) {</code></p>
<ol type="1">
<li><code>for (j in work)</code> Do work and save.</li>
<li>Stage and commit changes.</li>
</ol>
<p><code>}</code></p>
<ol start="3" type="1">
<li>Push your work to GitHub.</li>
</ol>
<p>When done, go to GitHub and open a PR.</p>
<blockquote class="blockquote">
<p>To avoid future headaches: use the dropdown menu in RStudio to go back to <code>main</code>.</p>
</blockquote>
</section>
</section>
<section id="the-wrong-ways" class="level1">
<h1>The wrong way(s)</h1>
<section id="scenario-1.-you-do-work-on-the-wrong-branch." class="level2">
<h2 class="anchored" data-anchor-id="scenario-1.-you-do-work-on-the-wrong-branch.">Scenario 1. You do work on the wrong branch.</h2>
<p>Make sure that you are on <code>main</code>. Remember that the actual submission is on the <code>lab00-git</code> branch.</p>
<p>In the R code chunk below, fit a linear model to the data and print the estimated coefficients, rounded to 2 decimal places.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x1 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x2 =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="dv">2</span> <span class="sc">+</span> <span class="dv">3</span> <span class="sc">*</span> x1 <span class="sc">-</span> x2 <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">100</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, stage the <code>.Rmd</code>. Commit with the message “on the wrong branch” and push.</p>
<p>You likely see an error like:</p>
<pre><code>remote: error: GH006: Protected branch update failed for refs/heads/main.</code></pre>
<p>That’s because you’re on <code>main</code>. Ugh! But I did some work, and now I need to be on a different branch!</p>
<p>So let’s fix it. We want the stuff we just did on <code>main</code> to be on <code>lab00-git</code>. Note that everything you did is saved! Here are the steps:</p>
<p><strong>Get our changes onto the correct branch</strong></p>
<ol type="1">
<li>Use the dropdown to switch branches to <code>lab00-git</code>.</li>
<li>Go to the Terminal (next to console).</li>
<li>Type <code>git merge main</code>.</li>
</ol>
<p>That should copy all your changes in the <code>.Rmd</code> that you made on <code>main</code> into the correct place. Did it?</p>
<p>If you do this and you ever see stuff like</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
This is the stuff that is currently on this branch.
=======
This is stuff that got added on the other branch.
While someone else changed stuff on this branch!
I (git) don't know which to keep!?
You have to decide for me.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; new_branch_for_merge_conflict</code></pre>
<p>This means that there were conflicts between the two versions. The stuff above <code>======</code> was in your current branch. The stuff below is what you’re trying to merge in. You decide what to keep, the top, the bottom, or both (or neither). Just be sure to delete the junk lines with <code>&lt;</code>, <code>&gt;</code>, or <code>=</code>.</p>
<hr>
<p>OK. So now we have our changes in the right spot. Commit and Push the <code>.Rmd</code> (only). Let’s clean up <code>main</code> so we don’t have problems later. Switch back to <code>main</code>.</p>
<p><strong>Undo mistakes on the wrong branch.</strong></p>
<p>In the Terminal, type <code>git log</code>. You should see some commits, one with the message “on the wrong branch”. There’s a bunch of other text that I won’t try to explain, but look at the stuff <em>before</em> (meaning below) that message. That’s the commit from before you did work on the wrong branch. You should see something like:</p>
<pre><code>commit 1851c738984690b039a79a04e070f766e19993d5</code></pre>
<p>That long string is what we’re after. It’s called a hash, and it uniquely identifies the commit. Take note of the first characters (like 5). That’s usually enough to get away with.</p>
<p>Type <code>q</code> to exit the log viewer.`</p>
<p>Now type <code>git reset --hard 1851c</code> (replacing <code>1851c</code> with the numbers from your unique hash). This command will undo any changes after that commmit, but only for this branch.</p>
<p>To recap, now the work we want is in the right place (on the other branch), and the mess on <code>main</code> is cleaned up. Boom.</p>
</section>
<section id="scenario-2.-you-did-something-you-shouldnt-have" class="level2">
<h2 class="anchored" data-anchor-id="scenario-2.-you-did-something-you-shouldnt-have">Scenario 2. You did something you shouldn’t have</h2>
<p>Switch your branch back to <code>lab00-git</code> (or whatever you named it).</p>
<p>Open the file <code>lab01.Rmd</code>. Select everything after <code># Instructions</code> and delete it. Save. Then Knit (producing a pdf). Commit both files with a message “did the wrong lab, and built a pdf”. Push your commits with the Green up arrow.</p>
<p>Take a look at the PR on GitHub now. There’s a bunch of crud that shouldn’t be there.</p>
<p>We’ve done 3 things here that we shouldn’t have.</p>
<ol type="1">
<li>We built a <code>.pdf</code> that we don’t want at all. It needs to go away.</li>
<li>We bollixed up the <code>lab01.Rmd</code> file. We don’t want that or it will screw up the lab next week.</li>
<li>We pushed it all into our submission for this week.</li>
</ol>
<p>The first instinct is to Delete both files, commit, and push. This is <strong>VERY</strong> <strong>BAD</strong>. That will further screw up everything. Basically, you’re telling git “I don’t want these files at all” when you mean “I don’t want changes to these files in this branch”. The difference is subtle but important. Because you DO want these files (without the changes) at some point, but you don’t want them here.</p>
<p>Let’s fix these issues.</p>
<hr>
<p>First, we want to “get rid of” the pdf. In the Terminal type</p>
<pre><code>git reset HEAD^ -- lab01.pdf</code></pre>
<p>Click the little “Refresh” arrow ↩︎️ in the Git panel. You should now see <code>lab01.pdf</code> twice, once with a red D that is checked and once with two yellow question marks that is NOT checked. This is what we want. Don’t click any other boxes.</p>
<p>Commit exactly as is. Use a message like “remove the stray pdf” and Push. Now, take a look at the PR on GitHub. It should be gone from the list of files in the PR.</p>
<p>There’s still that annoying two-yellow-question-mark version in the Git panel. Don’t click the check box (that will just redo everything we undid). Instead, highlight the file by clicking the file name, click the Gear Icon Dropdown ⛭, and then select “Revert”. Now it’s gone, and the pdf should disappear from your filesystem.</p>
<hr>
<p>Second, let’s “undo” the deletion in the <code>.Rmd</code>. This is easy, and a useful pattern to remember.</p>
<p>In the Terminal, type</p>
<pre><code>git checkout main -- lab01.Rmd</code></pre>
<p>What this does is grabs the version on <code>main</code> that isn’t messed up and puts it here, overwriting your changes. This isn’t the only way to fix your problem (you could have done the same thing we did with the pdf), but it’s pretty easy.</p>
<p>Stage, commit, and push. Now look at the PR on GitHub. Even though you made two changes (one deleting everything, and one restoring everything) to the <code>lab01.Rmd</code>, it should be “gone” from the PR now. That’s because the version on this branch looks just like the version on <code>main</code>, so there are no changes to be made into the <code>main</code> branch. This is just what we want.</p>
<hr>
<p>Now we’ve also fixed the third error already. None of those bogus changes to <code>lab01</code> are in our PR for this week anymore.</p>
</section>
</section>
<section id="finish-up" class="level1">
<h1>Finish up</h1>
<p>Your Git panel should be empty. Take this opportunity to change your branch to <code>main</code>. This will avoid issues when you start Lab 01 next week.</p>
<p>We’re now done with this lab. This all probably seems a bit painful, but our goal is to avoid all these things in the future. If you’re careful, in this class, you won’t have to do any of this junk again. In real life, if you work in Data Science or Software Development or Machine Learning, you definitely will.</p>
<section id="lets-just-recap-the-right-way." class="level2">
<h2 class="anchored" data-anchor-id="lets-just-recap-the-right-way.">Let’s just recap THE RIGHT WAY.</h2>
<ol type="1">
<li>For HW or Labs, always start on <code>main</code>.</li>
<li>Pull in the remote ⬇️ just to be sure everything is up-to-date.</li>
<li>Create a branch for your HW/Lab and switch to it. The name doesn’t matter, but it’s good practice to name in something meaningful (rather than something like <code>stat406-lab-1</code> when you’re doing lab 4).</li>
<li>Open the HW/Lab <code>.Rmd</code> and click Knit. Make sure it works.</li>
<li>Do the work, saving regularly. When you complete a section, Commit the file with a useful message (Push or Not).</li>
<li>Once you’re done, make sure that you have done the minimum number of Commits, push ⬆️ your <code>.Rmd</code> and the knitted <code>.pdf</code>.</li>
<li>Open a PR on GitHub and respond to the questions.</li>
<li>Make sure that only the <code>.Rmd</code> and the <code>.pdf</code> for this HW/Lab are there. And Create Pull Request.</li>
<li>On your machine, switch the branch to <code>main</code> to prepare for the next HW/Lab.</li>
</ol>
<p>If the TA asks for changes, just switch to the branch for this assignment, and make the requested changes. It’s all on your machine (even if the pdf disappears when you switch).</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">This work by <a href="https://dajmcdon.github.io">Daniel J. McDonald</a> is licensed under <a href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>